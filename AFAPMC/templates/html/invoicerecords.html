{% extends 'html/reports.html' %}
{% load static %}
{% block reporttitle %}Invoice Records{% endblock reporttitle %}
{% block reportbodycontent %}
{% if user.is_staff %}
<script>
    myarr = document.getElementsByTagName('a');
    for (let i = 0; i < myarr.length; i++) {
        myarr[i].classList.remove('active');
    }
    myarr[11].classList.add('active');
</script>
{% else %}
<script>
    myarr = document.getElementsByTagName('a');
    for (let i = 0; i < myarr.length; i++) {
        myarr[i].classList.remove('active');
    }
    myarr[10].classList.add('active');
</script>
{% endif %}
<script>
    myarr[2].classList.add("active");
</script>
{% if invoicelist %}
<div class="table-responsive mt-2" style="font-family: 'Gotu',sans-serif;">
    <table class="table table-hover table-bordered" id="InvoiceRecords">
        <thead class="table-dark border-warning">
            <tr class="align-middle text-center fw-bold">
                <th class="col">Transaction Number</th>
                <th class="col">Proprietor ID</th>
                <th class="col">License Holder's Name</th>
                <th class="col">Date</th>
                <th class="col">Year</th>
                <th class="col">License Fees Aadtye</th>
                <th class="col">License Fees AClass</th>
                <th class="col">License Fees Processing</th>
                <th class="col">License Fees Hamal</th>
                <th class="col">License Renewal Fees Aadtye</th>
                <th class="col">License Renewal Fees AClass</th>
                <th class="col">License Renewal Fees Processing</th>
                <th class="col">License Renewal Fees Hamal</th>
                <th class="col">Plot Rent</th>
                <th class="col">Market Fees (Main)</th>
                <th class="col">Market Fees (Secondary)</th>
                <th class="col">Supervision Fees</th>
                <th class="col">Form Fees</th>
                <th class="col">Tavan / Penalty</th>
                <th class="col">Late Fees</th>
                <th class="col">License Form Fees</th>
                <th class="col">Shopping Complex Rent</th>
                <th class="col">Hishob Patti Book</th>
                <th class="col">Bill Book</th>
                <th class="col">Pohonch Pavati</th>
                <th class="col">Other Fees</th>
                <th class="col">NA Tax</th>
                <th class="col">Total Fees</th>
                <th class="col">Cash</th>
                <th class="col">Cheque</th>
                <th class="col">Cheque Number</th>
                <th class="col">UPI</th>
                <th class="col">Recorded By</th>
            </tr>
        </thead>
        <tbody class="table-light border-warning" id="invoicedata">
            {% for irecord in invoicelist %}
            <tr class="align-middle">
                <td>{{irecord.IRTransactionNumber}}</td>
                <td>{{irecord.IRProprietorID}}</td>
                <td>{{irecord.IRLicenseHolderName}}</td>
                <td>{{irecord.IRDate}}</td>
                <td>{{irecord.IRYear}}</td>
                <td>{{irecord.IRLicenseFeesAadtye}}</td>
                <td>{{irecord.IRLicenseFeesAClass}}</td>
                <td>{{irecord.IRLicenseFeesProcessing}}</td>
                <td>{{irecord.IRLicenseFeesHamal}}</td>
                <td>{{irecord.IRLicenseRenewalFeesAadtye}}</td>
                <td>{{irecord.IRLicenseRenewalFeesAClass}}</td>
                <td>{{irecord.IRLicenseRenewalFeesProcessing}}</td>
                <td>{{irecord.IRLicenseRenewalFeesHamal}}</td>
                <td>{{irecord.IRPlotRent}}</td>
                <td>{{irecord.IRMarketFeesMain}}</td>
                <td>{{irecord.IRMarketFeesSecondary}}</td>
                <td>{{irecord.IRSupervisionFees}}</td>
                <td>{{irecord.IRFormFees}}</td>
                <td>{{irecord.IRTavanPenalty}}</td>
                <td>{{irecord.IRLateFees}}</td>
                <td>{{irecord.IRLicenseFormFees}}</td>
                <td>{{irecord.IRShoppingComplexRent}}</td>
                <td>{{irecord.IRHishobPattiBook}}</td>
                <td>{{irecord.IRBillBook}}</td>
                <td>{{irecord.IRPohonchPavati}}</td>
                <td>{{irecord.IROtherFees}}</td>
                <td>{{irecord.IRNATax}}</td>
                <td>{{irecord.IRTotalFees}}</td>
                <td>
                    {% if irecord.IRCash == 1 %}Cash{% else %}{% endif %}
                </td>
                <td>
                    {% if irecord.IRCheque == 1 %}Cheque{% else %}{% endif %}
                </td>
                <td>{{irecord.IRChequeNumber}}</td>
                <td>
                    {% if irecord.IRUPI == 1 %}UPI{% else %}{% endif %}
                </td>
                <td>{{irecord.IRRecordedBy}}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="5">Total Sum</td>
                <td id="tcount5"></td>
                <td id="tcount6"></td>
                <td id="tcount7"></td>
                <td id="tcount8"></td>
                <td id="tcount9"></td>
                <td id="tcount10"></td>
                <td id="tcount11"></td>
                <td id="tcount12"></td>
                <td id="tcount13"></td>
                <td id="tcount14"></td>
                <td id="tcount15"></td>
                <td id="tcount16"></td>
                <td id="tcount17"></td>
                <td id="tcount18"></td>
                <td id="tcount19"></td>
                <td id="tcount20"></td>
                <td id="tcount21"></td>
                <td id="tcount22"></td>
                <td id="tcount23"></td>
                <td id="tcount24"></td>
                <td id="tcount25"></td>
                <td id="tcount26"></td>
                <td id="tcount27"></td>
                <td id="tcount28">Cash Total</td>
                <td id="tcount29">Cheque Total</td>
                <td>-</td>
                <td id="tcount31">UPI Total</td>
                <td>-</td>
            </tr>            
        </tfoot>
    </table>
</div>
{% endif %}
<script src="{% static 'js/finance.js' %}" type="text/javascript"></script>
<script src="{% static 'js/reportinvoice.js' %}" type="text/javascript"></script>
{% endblock reportbodycontent %}